{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="card login-card animate-in">
        <div class="text-center mb-4">
            <img src="{{ url_for('static', filename='images/logo.svg') }}" alt="متماشي" class="logo mb-4">
            <h2>تسجيل الدخول</h2>
            <p class="text-muted">مرحباً بعودتك! سجل دخولك للمتابعة</p>
        </div>

        <form method="POST" action="{{ url_for('login') }}" class="login-form">
            {{ form.hidden_tag() }}
            
            <div class="form-group">
                <label for="email">البريد الإلكتروني</label>
                <input type="email" class="form-control" id="email" name="email" 
                       placeholder="أدخل بريدك الإلكتروني" required>
            </div>

            <div class="form-group">
                <label for="password">كلمة المرور</label>
                <div class="password-input">
                    <input type="password" class="form-control" id="password" name="password" 
                           placeholder="أدخل كلمة المرور" required>
                    <button type="button" class="toggle-password" onclick="togglePassword()">
                        <svg class="eye-icon" viewBox="0 0 24 24" width="24" height="24">
                            <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                        </svg>
                    </button>
                </div>
            </div>

            <div class="form-group d-flex justify-content-between align-items-center">
                <label class="checkbox-container">
                    <input type="checkbox" name="remember" id="remember">
                    <span class="checkmark"></span>
                    تذكرني
                </label>
                <a href="{{ url_for('forgot_password') }}" class="forgot-password">نسيت كلمة المرور؟</a>
            </div>

            <button type="submit" class="btn btn-primary w-100 mb-3">تسجيل الدخول</button>

            <div class="social-login">
                <p class="text-center text-muted">أو سجل الدخول باستخدام</p>
                <div class="social-buttons">
                    <button type="button" class="btn btn-outline social-btn" onclick="loginWithGoogle()">
                        <img src="{{ url_for('static', filename='images/google.svg') }}" alt="Google">
                        Google
                    </button>
                    <button type="button" class="btn btn-outline social-btn" onclick="loginWithApple()">
                        <img src="{{ url_for('static', filename='images/apple.svg') }}" alt="Apple">
                        Apple
                    </button>
                </div>
            </div>

            <p class="text-center mt-4">
                ليس لديك حساب؟ <a href="{{ url_for('register') }}">سجل الآن</a>
            </p>
        </form>
    </div>
</div>

<script>
function togglePassword() {
    const passwordInput = document.getElementById('password');
    const eyeIcon = document.querySelector('.eye-icon');
    
    if (passwordInput.type === 'password') {
        passwordInput.type = 'text';
        eyeIcon.classList.add('visible');
    } else {
        passwordInput.type = 'password';
        eyeIcon.classList.remove('visible');
    }
}

function loginWithGoogle() {
    // Implement Google login
}

function loginWithApple() {
    // Implement Apple login
}
</script>
{% endblock %}
